{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useHttp } from '../hooks/http.hook';\n\nconst useMarvelService = () => {\n  _s();\n\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n  const _apiKey = 'apikey=bd35b0eefb6ce288f155f735ed56a8d6';\n\n  const getAllCharacters = async offset => {\n    const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformCharacter);\n  };\n\n  const getAllComics = async offset => {\n    const res = await request(`${_apiBase}comics?limit=8&offset=${offset}&${_apiKey}`);\n    return res.data.results.map(_transformComic);\n  };\n\n  const getCharacterById = async id => {\n    const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\n    return _transformCharacter(res.data.results[0]);\n  };\n\n  const _transformCharacter = ({\n    name,\n    description,\n    thumbnail,\n    urls,\n    id,\n    comics\n  }) => {\n    const onEmptyMessage = 'Sorry, description for this character was not added yet';\n    let checkDescription = !description ? onEmptyMessage : `${description.slice(0, 211)}…`;\n    let thumbnailCoverStatus = thumbnail.path.includes('image_not_available') ? ' _not-found' : '';\n    return {\n      name: name,\n      description: checkDescription,\n      thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\n      homepage: urls[0].url,\n      wiki: urls[1].url,\n      thumbnailCoverStatus: thumbnailCoverStatus,\n      id: id,\n      comics: comics.items.slice(0, 10)\n    };\n  };\n\n  const _transformComic = ({\n    title,\n    prices,\n    urls,\n    thumbnail,\n    id\n  }) => {\n    const checkPrice = prices[0].price > 0 ? `${prices[0].price}$` : 'NOT AVAILABLE';\n    return {\n      title: title,\n      price: checkPrice,\n      urls: urls[0].url,\n      thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\n      id: id\n    };\n  };\n\n  return {\n    loading,\n    error,\n    getAllCharacters,\n    getCharacterById,\n    getAllComics,\n    clearError\n  };\n};\n\n_s(useMarvelService, \"9hyEhuOfcolEaHPbDIyQe2OeeLY=\", false, function () {\n  return [useHttp];\n});\n\nexport default useMarvelService;","map":{"version":3,"sources":["/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/services/MarvelService.js"],"names":["useHttp","useMarvelService","loading","request","error","clearError","_apiBase","_apiKey","getAllCharacters","offset","res","data","results","map","_transformCharacter","getAllComics","_transformComic","getCharacterById","id","name","description","thumbnail","urls","comics","onEmptyMessage","checkDescription","slice","thumbnailCoverStatus","path","includes","extension","homepage","url","wiki","items","title","prices","checkPrice","price"],"mappings":"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","sourcesContent":["import {useHttp} from '../hooks/http.hook';\n\n\nconst useMarvelService = () => {\n    const {loading, request, error, clearError} = useHttp();\n\n    const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\n    const _apiKey = 'apikey=bd35b0eefb6ce288f155f735ed56a8d6';\n\n    const getAllCharacters = async (offset) => {\n        const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\n        return res.data.results.map(_transformCharacter);\n    }\n\n    const getAllComics = async (offset) => {\n        const res = await request(`${_apiBase}comics?limit=8&offset=${offset}&${_apiKey}`);\n        return res.data.results.map(_transformComic)\n    }\n\n    const getCharacterById = async (id) => {\n        const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\n        return _transformCharacter(res.data.results[0]);\n    }\n\n    const _transformCharacter = ({name, description, thumbnail, urls, id, comics}) => {\n        const onEmptyMessage = 'Sorry, description for this character was not added yet';\n        let checkDescription = !description ? onEmptyMessage : `${description.slice(0, 211)}…`;\n        let thumbnailCoverStatus = thumbnail.path.includes('image_not_available') ?\n            ' _not-found' : ''; \n\n        return {\n            name: name,\n            description: checkDescription,\n            thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\n            homepage: urls[0].url,\n            wiki: urls[1].url,\n            thumbnailCoverStatus: thumbnailCoverStatus, \n            id: id,\n            comics: comics.items.slice(0, 10)\n        }\n    }\n\n    const _transformComic = ({title, prices, urls, thumbnail, id}) => {\n        const checkPrice = prices[0].price > 0 ? `${prices[0].price}$` : 'NOT AVAILABLE';\n\n        return {\n            title: title,\n            price: checkPrice,\n            urls: urls[0].url,\n            thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\n            id: id\n        }\n    }\n\n    return {loading, error, getAllCharacters, getCharacterById, getAllComics, clearError};\n}\n\nexport default useMarvelService ;\n\n\n\n"]},"metadata":{},"sourceType":"module"}