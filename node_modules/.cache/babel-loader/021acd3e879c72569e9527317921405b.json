{"ast":null,"code":"var _jsxFileName = \"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/components/charList/CharList.js\";\nimport { Component } from 'react';\nimport MarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport './charList.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass CharList extends Component {\n  constructor(props) {\n    super(props);\n    this.marvelService = new MarvelService();\n\n    this.onCharListLoaded = newArray => {\n      console.log(322);\n      this.setState(() => ({\n        charArr: this.state.charArr.concat(newArray),\n        loading: false,\n        error: false\n      }));\n    };\n\n    this.updateCharList = () => {\n      this.marvelService.getAllCharacters().then(charArr => this.onCharListLoaded(charArr)).catch(e => this.setState({\n        loading: false,\n        error: true\n      }));\n    };\n\n    this.loadMore = () => {\n      this.marvelService.getMoreCharacters().then(charArr => this.onCharListLoaded(charArr)).catch(e => this.setState({\n        loading: false,\n        error: true\n      }));\n    };\n\n    this.renderCharListItems = (charArr, loadMore = false) => {\n      const items = charArr.map(item => {\n        const {\n          name,\n          thumbnail,\n          thumbnailCoverStatus,\n          id\n        } = item;\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"char__item\",\n            onClick: () => this.props.onCharSelected(id),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: thumbnailCoverStatus,\n              src: thumbnail,\n              alt: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"char__name\",\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), loadMore ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this) : null]\n        }, void 0, true);\n      });\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"char__grid\",\n        children: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.render = () => {\n      const {\n        charArr,\n        loading,\n        error\n      } = this.state;\n      let statusLoading = loading && charArr.length === 0 ? Spinner : null;\n      let statusError = error ? ErrorMessage : null;\n      let loadMore = charArr.length > 0 && loading ? true : false;\n      let currentStatus = statusError || statusLoading || this.renderCharListItems;\n      console.log(statusLoading, charArr.length, loadMore);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"char__list\",\n        children: [currentStatus(charArr, loadMore), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.loadMore,\n          className: \"button button__main button__long\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner\",\n            children: \"load more\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = {\n      charArr: [],\n      loading: true,\n      error: false\n    };\n  }\n\n  componentDidMount() {\n    this.updateCharList();\n  }\n\n}\n\nexport default CharList;\n/* <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item char__item_selected\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li> */","map":{"version":3,"sources":["/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/components/charList/CharList.js"],"names":["Component","MarvelService","Spinner","ErrorMessage","CharList","constructor","props","marvelService","onCharListLoaded","newArray","console","log","setState","charArr","state","concat","loading","error","updateCharList","getAllCharacters","then","catch","e","loadMore","getMoreCharacters","renderCharListItems","items","map","item","name","thumbnail","thumbnailCoverStatus","id","onCharSelected","render","statusLoading","length","statusError","currentStatus","componentDidMount"],"mappings":"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","sourcesContent":["import { Component } from 'react';\n\nimport MarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nimport './charList.scss';\n\nclass CharList extends Component {\n\n    constructor (props) {\n        super(props)\n\n        this.state = {\n            charArr: [],\n            loading: true,\n            error: false\n        }\n    }\n\n    marvelService = new MarvelService();\n\n    componentDidMount() {\n        this.updateCharList();\n    }\n\n    onCharListLoaded = (newArray) => {\n        console.log(322)\n        this.setState(() => ({\n            charArr: this.state.charArr.concat(newArray),\n            loading: false,\n            error: false\n        }))\n    }\n    \n    updateCharList = () => {\n        this.marvelService\n            .getAllCharacters()\n            .then(charArr => this.onCharListLoaded(charArr))\n            .catch(e => this.setState({loading: false, error: true}))\n    }\n\n    loadMore = () => {\n        this.marvelService\n            .getMoreCharacters()\n            .then(charArr => this.onCharListLoaded(charArr))\n            .catch(e => this.setState({loading: false, error: true}))\n    }\n\n    renderCharListItems = (charArr, loadMore = false) => {\n        const items = charArr.map(item => {\n            const {name, thumbnail, thumbnailCoverStatus, id} = item;\n            return (\n                <>\n                    <li className=\"char__item\" onClick={() => this.props.onCharSelected(id)}  key={id}>\n                        <img className={thumbnailCoverStatus} src={thumbnail} alt={name}/>\n                        <div className=\"char__name\">{name}</div>\n                    </li>\n                    {loadMore ? <Spinner/> : null}\n                </>\n            )\n        })\n\n        return (\n            <ul className=\"char__grid\">\n                {items}\n            </ul>\n        )\n    }\n    \n    render = () => {\n        const {charArr, loading, error} = this.state;\n        let statusLoading = loading && charArr.length === 0 ? Spinner : null;\n        let statusError = error ? ErrorMessage : null;\n        let loadMore = charArr.length > 0 && loading ? true : false\n        let currentStatus = statusError || statusLoading || this.renderCharListItems\n        console.log(statusLoading, charArr.length, loadMore)\n        return (\n            <div className=\"char__list\">\n                {currentStatus(charArr, loadMore)}\n\n                <button onClick={this.loadMore} className=\"button button__main button__long\">\n                    <div className=\"inner\">load more</div>\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default CharList;\n\n/* <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item char__item_selected\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li>\n                    <li className=\"char__item\">\n                        <img src={abyss} alt=\"abyss\"/>\n                        <div className=\"char__name\">Abyss</div>\n                    </li> */"]},"metadata":{},"sourceType":"module"}