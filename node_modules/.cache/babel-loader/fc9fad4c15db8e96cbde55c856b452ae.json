{"ast":null,"code":"import _classCallCheck from\"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import MarvelService from'../../services/MarvelService';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import mjolnir from'../../resources/img/mjolnir.png';import'./randomChar.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RandomChar=/*#__PURE__*/function(_Component){_inherits(RandomChar,_Component);var _super=_createSuper(RandomChar);function RandomChar(){var _this;_classCallCheck(this,RandomChar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={char:{},loading:true,error:false};_this.marvelService=new MarvelService();_this.onCharLoaded=function(char){_this.setState({char:char,loading:false,error:false});};_this.updateChar=function(){var id=Math.floor(Math.random()*(1011400-1011000)+1011000);_this.marvelService.getCharacterById(id).then(_this.onCharLoaded).catch(function(e){return _this.setState({loading:false,error:true});});};_this.toggleCharacterOnClick=function(){_this.setState({loading:true,error:false});_this.updateChar();};_this.render=function(){var _this$state=_this.state,char=_this$state.char,loading=_this$state.loading,error=_this$state.error;var statusError=error?ErrorMessage:null;var statusLoading=loading?Spinner:null;var currentStatus=statusError||statusLoading||onLoaded;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[currentStatus(char),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button button__main\",onClick:_this.toggleCharacterOnClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});};return _this;}_createClass(RandomChar,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateChar();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.characterID!==prevProps.characterID){this.updateChar();this.setState({loading:true,error:false});}}}]);return RandomChar;}(Component);var onLoaded=function onLoaded(_ref){var name=_ref.name,description=_ref.description,thumbnail=_ref.thumbnail,homepage=_ref.homepage,wiki=_ref.wiki,thumbnailCoverStatus=_ref.thumbnailCoverStatus;var imgClassName=\"randomchar__img\".concat(thumbnailCoverStatus);return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Random character\",className:imgClassName}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"sources":["/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/components/randomChar/RandomChar.js"],"names":["Component","MarvelService","Spinner","ErrorMessage","mjolnir","RandomChar","state","char","loading","error","marvelService","onCharLoaded","setState","updateChar","id","Math","floor","random","getCharacterById","then","catch","e","toggleCharacterOnClick","render","statusError","statusLoading","currentStatus","onLoaded","prevProps","prevState","props","characterID","name","description","thumbnail","homepage","wiki","thumbnailCoverStatus","imgClassName"],"mappings":"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","sourcesContent":["import { Component } from 'react';\n\nimport MarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nimport './randomChar.scss';\n\nclass RandomChar extends Component {\n\n    state = {\n        char: {},\n        loading: true,\n        error: false\n    }\n\n    marvelService = new MarvelService();\n\n    componentDidMount() {\n        this.updateChar();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.characterID !== prevProps.characterID) {\n            this.updateChar();\n            this.setState({loading: true, error: false});\n        }\n    }\n\n    onCharLoaded = (char) => {\n        this.setState({char, loading: false, error: false});\n    }\n\n    updateChar = () => {\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n        \n        this.marvelService\n            .getCharacterById(id)\n            .then(this.onCharLoaded)\n            .catch((e) => this.setState({loading: false, error: true}))\n    }\n\n    toggleCharacterOnClick = () => {\n        this.setState({loading: true, error: false});\n        this.updateChar();\n    }\n    \n    render = () => {\n        const {char, loading, error} = this.state;\n\n        let statusError = error ? ErrorMessage : null;\n        let statusLoading = loading ? Spinner : null;\n        let currentStatus = statusError || statusLoading || onLoaded;\n\n        return (\n            <div className=\"randomchar\">\n                {currentStatus(char)}\n                <div className=\"randomchar__static\">\n                    <p className=\"randomchar__title\">\n                        Random character for today!<br/>\n                        Do you want to get to know him better?\n                    </p>\n                    <p className=\"randomchar__title\">\n                        Or choose another one\n                    </p>\n                    <button\n                        className=\"button button__main\"\n                        onClick={this.toggleCharacterOnClick}\n                    >\n                        <div className=\"inner\">try it</div>\n                    </button>\n                    <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst onLoaded = ({name, description, thumbnail, homepage, wiki, thumbnailCoverStatus}) => {\n    let imgClassName = `randomchar__img${thumbnailCoverStatus}`\n    return (\n        <div className=\"randomchar__block\">\n            <img src={thumbnail}  alt=\"Random character\" className={imgClassName}/>\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RandomChar;"]},"metadata":{},"sourceType":"module"}