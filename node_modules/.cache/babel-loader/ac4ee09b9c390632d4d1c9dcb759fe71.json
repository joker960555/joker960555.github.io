{"ast":null,"code":"var _jsxFileName = \"/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/components/comicsList/ComicsList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport useMarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport './comicsList.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ComicsList = () => {\n  _s();\n\n  const [comicsArr, setComicsArr] = useState([]);\n  const [pages, setPages] = useState(0);\n  const [charEnded, setCharEnded] = useState(false);\n  const [offset, setOffset] = useState(111);\n  const {\n    loading,\n    error,\n    getAllComics\n  } = useMarvelService();\n  useEffect(() => {\n    onLoadingMore();\n  }, [offset]);\n\n  const onComicsListLoaded = newArr => {\n    let ended = newArr.length < 8 ? true : false;\n    setCharEnded(ended);\n    setComicsArr(comicsArr => comicsArr.concat(newArr));\n  };\n\n  const onLoadingMore = () => {\n    setPages(pages => pages + 1);\n    getAllComics(offset).then(res => {\n      console.log(res, 0, Array.isArray(res));\n      onComicsListLoaded(res);\n    }).catch(e => {});\n  };\n\n  const renderComicsItems = () => {\n    const items = comicsArr.map(item => {\n      const {\n        title,\n        price,\n        urls,\n        thumbnail,\n        id\n      } = item;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"comics__item\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: urls,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnail,\n            alt: title,\n            className: \"comics__item-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comics__item-name\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comics__item-price\",\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"comics__grid\",\n      children: items\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  };\n\n  const statusLoading = loading && pages === 0 ? Spinner : null;\n  const statusLoadMore = loading && pages > 0 ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 51\n  }, this) : null;\n  const statusError = error ? ErrorMessage : null;\n  const currentStatus = statusLoading || statusError || renderComicsItems;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comics__list\",\n    children: [currentStatus(), statusLoadMore, /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: loading,\n      onClick: () => setOffset(offset => offset + 8),\n      style: {\n        'display': charEnded ? 'none' : 'block'\n      },\n      className: \"button button__main button__long\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner\",\n        children: \"load more\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ComicsList, \"Y2C+IKhXhW5jkrcia2KFzrPYb/k=\", false, function () {\n  return [useMarvelService];\n});\n\n_c = ComicsList;\nexport default ComicsList;\n{\n  /* <ul className=\"comics__grid\">\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                         <div className=\"comics__item-price\">9.99$</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                         <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                         <div className=\"comics__item-price\">9.99$</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                         <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                         <div className=\"comics__item-price\">9.99$</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                         <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                         <div className=\"comics__item-price\">9.99$</div>\n                     </a>\n                 </li>\n                 <li className=\"comics__item\">\n                     <a href=\"#\">\n                         <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                         <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                         <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                     </a>\n                 </li>\n             </ul> */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ComicsList\");","map":{"version":3,"sources":["/Users/denisskidan/Documents/work/visual_code_stuff/React-projects/marvel-app/my-app/src/components/comicsList/ComicsList.js"],"names":["useEffect","useState","useMarvelService","Spinner","ErrorMessage","ComicsList","comicsArr","setComicsArr","pages","setPages","charEnded","setCharEnded","offset","setOffset","loading","error","getAllComics","onLoadingMore","onComicsListLoaded","newArr","ended","length","concat","then","res","console","log","Array","isArray","catch","e","renderComicsItems","items","map","item","title","price","urls","thumbnail","id","statusLoading","statusLoadMore","statusError","currentStatus"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\n\nimport useMarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nimport './comicsList.scss';\n\nconst ComicsList = () => {\n\n    const [comicsArr, setComicsArr] = useState([]);\n    const [pages, setPages] = useState(0);\n    const [charEnded, setCharEnded] = useState(false);\n    const [offset, setOffset] = useState(111);\n\n    const {loading, error, getAllComics} = useMarvelService();\n\n    useEffect(() => {\n        onLoadingMore();\n    }, [offset]);\n\n    const onComicsListLoaded = (newArr) => {\n        let ended = newArr.length < 8 ? true : false;\n        setCharEnded(ended);\n\n        setComicsArr(comicsArr => comicsArr.concat(newArr));\n    }\n\n    const onLoadingMore = () => {\n        setPages(pages => pages + 1);\n\n        getAllComics(offset)\n            .then(res => {console.log(res, 0, Array.isArray(res));onComicsListLoaded(res)})\n            .catch(e=>{})\n    }\n\n    const renderComicsItems = () => {\n        const items = comicsArr.map(item => {\n            const {title, price, urls, thumbnail, id} = item;\n\n            return (\n                <li \n                    key={id}\n                    className=\"comics__item\"\n                >\n                    <a href={urls}>\n                        <img src={thumbnail} alt={title} className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">{title}</div>\n                        <div className=\"comics__item-price\">{price}</div>\n                    </a>\n                </li>\n            )\n        })\n\n        return (\n            <ul className=\"comics__grid\">\n                {items}\n            </ul>\n        )\n    }\n\n    const statusLoading = loading && pages === 0 ? Spinner : null;\n    const statusLoadMore = loading && pages > 0 ? <Spinner/> : null;\n    const statusError = error ? ErrorMessage : null;\n    const currentStatus = statusLoading || statusError || renderComicsItems;\n\n    return (\n\n        <div className=\"comics__list\">\n            {currentStatus()}\n            {statusLoadMore}\n            <button \n                disabled={loading}\n                onClick={() => setOffset(offset => offset + 8)}\n                style={{'display': charEnded ? 'none' : 'block'}}\n                className=\"button button__main button__long\"\n            >\n                <div className=\"inner\">load more</div>\n            </button>\n        </div>\n    )\n}\n\nexport default ComicsList;\n\n{/* <ul className=\"comics__grid\">\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                        <div className=\"comics__item-price\">9.99$</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                        <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                        <div className=\"comics__item-price\">9.99$</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                        <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                        <div className=\"comics__item-price\">9.99$</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                        <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={uw} alt=\"ultimate war\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">ULTIMATE X-MEN VOL. 5: ULTIMATE WAR TPB</div>\n                        <div className=\"comics__item-price\">9.99$</div>\n                    </a>\n                </li>\n                <li className=\"comics__item\">\n                    <a href=\"#\">\n                        <img src={xMen} alt=\"x-men\" className=\"comics__item-img\"/>\n                        <div className=\"comics__item-name\">X-Men: Days of Future Past</div>\n                        <div className=\"comics__item-price\">NOT AVAILABLE</div>\n                    </a>\n                </li>\n            </ul> */}"]},"metadata":{},"sourceType":"module"}